<div class="container-fluid maxheight">
    <ngx-spinner name="spinner" bdColor="rgba(51, 51, 51, 0.8)" size="large" color="#fff" type="square-jelly-box"
        [fullScreen]="true">
        <img alt="Loading Please Wait..." style="width:100px ; height:100px ;" src="../../../assets/Spin-2.gif" />
    </ngx-spinner>

    <div class="row">
        <div class="backbtnDiv text-center">
            <button class="btnback" (click)="backToPreviousPage()">Back</button>
        </div>
    </div>
    <div class="projectname text-center ">
        {{ChekNull(Projecttype)}}-{{ChekNull(BusinessUnit)}}-{{ChekNull(ProjectName)}}-{{Location}}-{{PartName}}-{{PartNumber}}
    </div>

    <div [hidden]="!IsCESmodel" class="ModelTypeNote">
        <label class="text-center">"{{ModelwiseNote}}"</label>
    </div>

    <div class="row panal">
        <form [formGroup]="ProjectDetails">
            <div class="container-fluid">
                <div class="row" id="printsection">
                    <div class="">
                        <br>
                        <div class="imgPanel">
                            <img src="{{mainimg}}" class="img border_img" (mouseover)="ZoomImg($event)"
                                (mouseout)="ZoomImgclose()">

                            <!-- <div>
                                <img class="moneybag" src="../../../assets/img/pngwing.com.png" alt="Avatar" title="redirect to design to cost page" (click)="showTabs('Tab2')"> 
                                <h6 style="margin-left: 105px;">VAVE Design Ideas</h6>
                            </div>     -->
                        </div>
                        <div class="Silder_imgPanel">
                            <div *ngFor="let val of imgsilderData;let i=index" style="display: inline-block;">
                                <img src="{{val}}" class="silder_img" (mouseover)="setImg(val)">

                            </div>
                            <br>
                            <div *ngFor="let val of imgName" style="display: inline-block;" class="silder_img_name">
                                {{val }}</div>

                        </div>

                        <img src="{{mainimgzoom}}" class="zoomImghide" id="zoomImg">


                        <div class="TabMenu">
                            <div class="tab-container">
                                <div class="tab" [ngClass]="{'active-tab': showTab1}" (click)="showTabs('Tab1')"> Should
                                    Cost </div>
                                <div class="tab" [ngClass]="{'active-tab': showTab2}" (click)="showTabs('Tab2')"> VAVE
                                    Design Ideas <span class="title-corner-badge">NEW</span> </div>
                            </div>
                            
                        </div>

                        <div *ngIf="showTab1" class="page dataPanel">

                            <fieldset class="border rounded-3 p-3  ">


                                <legend class="w-auto labelDetailsheader" style="margin-top:0px;">Project Details
                                </legend>

                                <div class="row">
                                    <label class="labelDetails" style="margin-top: 0px !important;">Part Details</label>
                                    <div class="col-md-12">
                                        <table style="width: 100%;">
                                            <tr>
                                                <td style="width: 15%;"><label for="UniqueId" class="default-lbl">Model
                                                        Mart ID :</label></td>
                                                <td style="width: 30%;"><label for="UniqueId"
                                                        class="default-lblvalue">{{ChekNull(UniqueId)}}</label></td>
                                                <td style="width: 15%;"><label for="ProjectName"
                                                        class="default-lbl">Program Name :</label></td>
                                                <td style="width: 30%;"><label for="ProjectName"
                                                        class="default-lblvalue">{{ChekNull(ProjectName)}}</label></td>
                                            </tr>
                                            <tr>

                                                <td style="width: 15%;"><label for="PartName" class="default-lbl">Part
                                                        Name :</label></td>
                                                <td style="width: 30%;"><label for="ProjectName"
                                                        class="default-lblvalue">{{ChekNull(PartName)}}</label></td>
                                                <td><label for="PartNumber" class="default-lbl">Part Number :</label>
                                                </td>
                                                <td><label for="PartNumber"
                                                        class="default-lblvalue">{{ChekNull(PartNumber)}}</label></td>
                                            </tr>
                                            <tr>

                                                <td><label for="CategoryCAT2" class="default-lbl">Category(CAT 2)
                                                        :</label></td>
                                                <td><label for="CategoryCAT2"
                                                        class="default-lblvalue">{{ChekNull(CategoryCAT2)}}</label></td>
                                                <td><label for="CategoryCAT3" class="default-lbl">Category(CAT 3)
                                                        :</label></td>
                                                <td><label for="PartNumber"
                                                        class="default-lblvalue">{{ChekNull(CategoryCAT3)}}</label></td>
                                            </tr>
                                            <tr>

                                                <td><label for="CategoryCAT4" class="default-lbl">Category(CAT 4)
                                                        :</label></td>
                                                <td><label for="CategoryCAT2"
                                                        class="default-lblvalue">{{ChekNull(CategoryCAT4)}}</label></td>
                                                <td><label for="Projecttype" class="default-lbl">Project type :</label>
                                                </td>
                                                <td><label for="Projecttype"
                                                        class="default-lblvalue">{{ChekNull(Projecttype)}}</label></td>
                                            </tr>
                                            <tr>

                                                <td> <label for="BusinessUnit" class="default-lbl">Business Unit
                                                        :</label></td>
                                                <td> <label for="BusinessUnit"
                                                        class="default-lblvalue">{{ChekNull(BusinessUnit)}}</label></td>
                                                <td><label for="EstimatedSpend" class="default-lbl">Estimated Spend ($)
                                                        :</label></td>
                                                <td><label for="EstimatedSpend"
                                                        class="default-lblvalue">{{ChekNull(EstimatedSpend|
                                                        number:'1.0-0')}} </label></td>
                                            </tr>
                                            <tr>

                                                <td> <label for="EngineDisplacement" class="default-lbl">Engine
                                                        Displacement
                                                        :</label></td>
                                                <td> <label for="EngineDisplacement"
                                                        class="default-lblvalue">{{ChekNull(EngineDisplacement)}}</label>
                                                </td>
                                            </tr>


                                        </table>
                                    </div>
                                    <label class="labelDetails">Supplier Details</label>
                                    <div class="col-md-12">
                                        <table style="width: 100%;">
                                            <tr>
                                                <td style="width: 15%;"><label for="SupplierName"
                                                        class="default-lbl">Supplier Name :</label></td>
                                                <td style="width: 30%;"><label for="SupplierName"
                                                        class="default-lblvalue">{{ChekNull(SupplierName)}}</label></td>
                                                <td style="width: 15%;"> <label for="Location"
                                                        class="default-lbl">Supplier Manufacturing
                                                        Location :</label></td>
                                                <td style="width: 30%;"><label for="Location"
                                                        class="default-lblvalue">{{ChekNull(Location)}}</label></td>
                                            </tr>
                                            <tr>
                                                <td style="width: 15%;"><label for="TargetQuote"
                                                        class="default-lbl">Target Quote :</label></td>
                                                <td style="width: 30%;"><label for="TargetQuote"
                                                        class="default-lblvalue">{{ChekNull(TargetQuote|currency:'USD':'symbol':'1.2-2')}}
                                                    </label></td>
                                            </tr>
                                        </table>
                                    </div>
                                    <label class="labelDetails">Should Cost Details</label>

                                    <div class="col-md-12">
                                        <table style="width: 100%;">
                                            <tr>
                                                <td style="width: 15%;"><label for="Costtype" class="default-lbl">Cost
                                                        Type² :</label></td>
                                                <td style="width: 30%;"><label for="Costtype"
                                                        class="default-lblvalue">{{ChekNull(Costtype)}}</label></td>
                                                <td style="width: 15%;"> <label for="DebriefDate"
                                                        class="default-lbl">Debrief Date :</label></td>
                                                <td style="width: 30%;"><label for="DebriefDate"
                                                        class="default-lblvalue">{{ChekNull(DebriefDateFormated)}}</label>
                                                </td>
                                            </tr>
                                            <tr>
                                                <!-- <td style="width: 15%;"><label for="IncoTerms" class="default-lbl">Inco
                                                        Terms :</label></td>
                                                <td style="width: 30%;"><label for="IncoTerms"
                                                        class="default-lblvalue">{{IncoTerms}}</label></td> -->

                                                <!-- </tr>
                                            <tr> -->
                                                <td style="width: 15%;"> <label for="BatchSize"
                                                        class="default-lbl">Batch Size :</label></td>
                                                <td style="width: 30%;"><label for="BatchSize"
                                                        class="default-lblvalue">{{ChekNull(BatchSize)}}</label></td>
                                                <td style="width: 15%;"><label for="Forex" class="default-lbl">Forex
                                                        :</label></td>
                                                <td style="width: 30%;"><label for="Forex" class="default-lblvalue"
                                                        *ngIf="ForexRegion!=='USD'"> 1
                                                        USD = {{ChekNull(Forex|number:'1.0-2')}}
                                                        {{ChekNull(ForexRegion)}}
                                                    </label><label for="Forex" class="default-lblvalue"
                                                        *ngIf="ForexRegion=='USD'"> 1
                                                        USD
                                                    </label></td>

                                            </tr>
                                            <tr>
                                                <td style="width: 15%;"> <label for="AnnualVolume"
                                                        class="default-lbl">Annual Volume :</label></td>
                                                <td style="width: 30%;"><label for="AnnualVolume"
                                                        class="default-lblvalue">{{ChekNull(AnnualVolume
                                                        |number:'1.0-2')}}</label></td>
                                                <td style="width: 15%;"> <label for="BatchSize"
                                                        class="default-lbl">Model Type :</label></td>
                                                <td style="width: 30%;"><label for="BatchSize"
                                                        class="default-lblvalue">{{ModelTypeName}}</label></td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            </fieldset>

                            <br>
                            <fieldset class="border rounded-3 p-3">
                                <legend class="w-auto labelDetailsheader">Should Cost Breakdown</legend>
                                <div class="row">
                                    <!-- ------- T1 data -------->
                                    <div [class.col-md-6]="!IsHiddenT2">
                                        <label class="CostHeading">Finish Part Cost</label>
                                        <table class="table border">
                                            <thead>
                                                <tr>
                                                    <th style="width: 32%;" class="ShouldCostBreakdowntableth">
                                                        Cost Header </th>
                                                    <th style="width: 14%;" class="ShouldCostBreakdowntableth">In
                                                        USD($)</th>
                                                    <th style="width: 17%;" class="ShouldCostBreakdowntableth"
                                                        [hidden]=" ForexRegion==='USD'">Local
                                                        Currency ({{ChekNull(ForexRegion)}})</th>

                                                    <th style="width: 1%;" class="ShouldCostBreakdowntableth">
                                                        Contribution to Total
                                                        Cost (%) </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let val of shouldCostBreakdownList; let i=index"
                                                    class="ShouldCostBreakdowntabletr">
                                                    <td style="padding: 10px 10px;">
                                                        {{val.particular}}</td>
                                                    <td>
                                                        $ {{val.usdValue |number:'1.2-2' }} </td>
                                                    <td [hidden]="ForexRegion==='USD'">
                                                        {{ForexRegion}} {{val.localValue | number:'1.2-2'}} </td>
                                                    <td
                                                        style="position: relative; padding-left: 0px; padding-top: 3px; ">
                                                        <div *ngIf=" val.usdValue > 0 "
                                                            [style.width.%]="val.totalCostPer" class="TotalInPer">
                                                            <img src="../../../assets/report_img.png"
                                                                style="width: 100%;height: 100%;">
                                                        </div>
                                                        <span class="text-center"
                                                            style=" position: absolute; width: 100%;  z-index: 10;padding-top: 3px;">
                                                            {{val.totalCostPer | number:'1.0-0'}}
                                                        </span>
                                                    </td>
                                                    <!-- <td
                                                        style="position: relative; padding-left: 0px; padding-top: 3px; ">
                                                        <div [style.width.%]="val.totalCostPer" class="TotalInPer">
                                                        </div>
                                                        <span class="text-center"
                                                            style=" position: absolute; width: 100%;  z-index: 10;padding-top: 3px;">
                                                            {{val.totalCostPer | number:'1.2-2'}}
                                                        </span>
                                                    </td> -->
                                                </tr>
                                                <!-- ----- Total Manufacturing Cost ------ -->
                                                <tr>
                                                    <td colspan="1" class="footer-color"><b>Total Manufacturing
                                                            Cost</b></td>
                                                    <td colspan="1" class="footer-color"><b>$ {{Manu_TotalInUSD
                                                            |number:'1.2-2'}}</b>
                                                    </td>
                                                    <td colspan="1" class="footer-color" [hidden]="ForexRegion==='USD'">
                                                        <b>{{ChekNull(ForexRegion)}} {{Manu_TotalInLocal |
                                                            number:'1.2-2'}}</b>
                                                    </td>
                                                    <td
                                                        style="position: relative; padding-left: 0px; padding-top: 3px; ">
                                                        <div [style.width.%]="Manu_TotalInPer" class="TotalInPer">
                                                            <img src="../../../assets/report_img.png"
                                                                style="width: 100%;height: 100%;">
                                                        </div>
                                                        <span class="text-center"
                                                            style=" position: absolute; width: 100%;  z-index: 10;padding-top: 5px; font-size: 12px;">
                                                            <b>{{Manu_TotalInPer | number:'1.0-0'}}</b>
                                                        </span>
                                                    </td>
                                                    <!-- <td
                                                        style="position: relative; padding-left: 0px; padding-top: 3px; ">
                                                        <div [style.width.%]="Manu_TotalInPer" class="TotalInPer">
                                                        </div>
                                                        <span class="text-center"
                                                            style=" position: absolute; width: 100%;  z-index: 10;padding-top: 3px;">
                                                            {{Manu_TotalInPer | number:'1.2-2'}}
                                                        </span>
                                                    </td> -->
                                                </tr>
                                                <tr *ngFor="let val of shouldCostBreakdownNonList; let i=index"
                                                    class="ShouldCostBreakdowntabletr">
                                                    <td *ngIf="val.totalCostPer > 0" style="padding: 10px 10px;">
                                                        {{val.particular}}</td>
                                                    <td *ngIf="val.totalCostPer > 0">$ {{val.usdValue|number:'1.2-2'
                                                        }}</td>
                                                    <td *ngIf="val.totalCostPer > 0" [hidden]="ForexRegion==='USD'">
                                                        {{ChekNull(ForexRegion)}} {{val.localValue |
                                                        number:'1.2-2' }}</td>
                                                    <td *ngIf="val.totalCostPer > 0"
                                                        style="position: relative; padding-left: 0px; padding-top: 3px; ">
                                                        <div [style.width.%]="val.totalCostPer" class="TotalInPer">
                                                            <img src="../../../assets/report_img.png"
                                                                style="width: 100%;height: 100%;">
                                                        </div>
                                                        <span class="text-center"
                                                            style=" position: absolute; width: 100%;  z-index: 10;padding-top: 3px;">
                                                            {{val.totalCostPer | number:'1.0-0'}}
                                                        </span>
                                                    </td>
                                                    <!-- <td *ngIf="val.totalCostPer > 0"
                                                        style="position: relative; padding-left: 0px; padding-top: 3px; ">
                                                        <div [style.width.%]="val.totalCostPer" class="TotalInPer">
                                                        </div>
                                                        <span class="text-center"
                                                            style=" position: absolute; width: 100%;  z-index: 10;padding-top: 3px;">
                                                            {{val.totalCostPer | number:'1.0-0'}}
                                                        </span>
                                                    </td> -->
                                                </tr>
                                                <!-- ----- Total Non-Manufacturing Cost ------ -->
                                                <!-- <tr>
                                                    <td colspan="1" class="footer-color"><b>Total Non-Manufacturing
                                                            Cost</b></td>
                                                    <td colspan="1" class="footer-color"><b>{{Non_TotalInUSD |
                                                            number:'1.2-2'}}</b></td>
                                                    <td colspan="1" class="footer-color"><b>{{Non_TotalInLocal |
                                                            number:'1.2-2'}}</b>
                                                    </td>
                                                    <td style="position: relative; padding-left: 0px; padding-top: 3px; ">
                                                        <div [style.width.%]="Non_TotalInPer" class="TotalInPer">
                                                            <img src="../../../assets/report_img.png" style="width: 100%;height: 100%;">
                                                        </div>
                                                        <span class="text-center" style=" position: absolute; width: 100%;  z-index: 10;padding-top: 3px;">
                                                            {{Non_TotalInPer | number:'1.0-0'}}
                                                        </span>
                                                    </td>
                                                </tr> -->
                                                <!-- ----- Total Cost ------ -->
                                                <tr>
                                                    <td colspan="1" class="footer-color tfoot"><b>Part Cost</b>
                                                    </td>
                                                    <td colspan="1" class="footer-color tfoot"><b>$ {{TotalInUSD |
                                                            number:'1.2-2'}}</b>
                                                    </td>
                                                    <td colspan="1" class="footer-color tfoot"
                                                        [hidden]="ForexRegion==='USD'"><b>{{ChekNull(ForexRegion)}}
                                                            {{TotalInLocal |
                                                            number:'1.2-2'}}</b>
                                                    </td>
                                                    <td
                                                        style="position: relative; padding-left: 0px; padding-top:3px; ">
                                                        <div [style.width.%]="TotalInPer" class="TotalInPer">
                                                            <img src="../../../assets/report_img.png"
                                                                style="width: 100%;height: 100%;">
                                                        </div>
                                                        <span class="text-center"
                                                            style=" position: absolute; width: 100%;  z-index: 10; padding-top:5px; font-size: 12px;">
                                                            <b> {{TotalInPer | number:'1.0-0'}}</b>
                                                        </span>
                                                    </td>
                                                    <!-- <td  style="position: relative; padding-left: 0px; padding-top: 3px; ">
                                                        <div [style.width.%]="TotalInPer" class="TotalInPer">
                                                        </div>
                                                        <span class="text-center"
                                                            style=" position: absolute; width: 100%;  z-index: 10;padding-top: 3px;">
                                                            {{TotalInPer | number:'1.0-0'}}
                                                        </span>
                                                    </td> -->
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <!-- ------- T2 data ------- -->


                                    <div class="col-md-6" [hidden]="IsHiddenT2">
                                        <label class="CostHeading">Tier#2 Cost or Rough Part Cost or Casting
                                            Cost or Forging Cost</label>
                                        <table class="table border">
                                            <thead>
                                                <tr>
                                                    <th style="width: 32%;" class="ShouldCostBreakdowntableth">
                                                        Cost Header </th>
                                                    <th style="width: 14%;" class="ShouldCostBreakdowntableth">In
                                                        USD($)</th>
                                                    <th style="width: 17%;" class="ShouldCostBreakdowntableth"
                                                        [hidden]="ForexRegion==='USD'">Local
                                                        Currency ({{ChekNull(ForexRegion)}})</th>
                                                    <th style="width: 1%;" class="ShouldCostBreakdowntableth">
                                                        Contribution to Total
                                                        Cost (%)</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let val of shouldCostBreakdownListT2; let i=index"
                                                    class="ShouldCostBreakdowntabletr">
                                                    <td style="padding: 10px 10px;">
                                                        {{val.particular}}
                                                    </td>
                                                    <td>
                                                        $ {{val.usdValue | number:'1.2-2' }} </td>
                                                    <td [hidden]="ForexRegion==='USD'">
                                                        {{ChekNull(ForexRegion)}} {{val.localValue | number:'1.2-2'}}
                                                    </td>
                                                    <td
                                                        style="position: relative; padding-left: 0px; padding-top: 3px; ">
                                                        <div *ngIf=" val.usdValue > 0 "
                                                            [style.width.%]="val.totalCostPer" class="TotalInPer">
                                                            <img src="../../../assets/report_img.png"
                                                                style="width: 100%;height: 100%;">
                                                        </div>
                                                        <span class="text-center"
                                                            style=" position: absolute; width: 100%;  z-index: 10;padding-top: 3px;">

                                                            {{val.totalCostPer | number:'1.0-0'}}
                                                        </span>

                                                    </td>
                                                    <!-- <td
                                                        style="position: relative; padding-left: 0px; padding-top: 5px; ">
                                                        <div [style.width.%]="val.totalCostPer" class="TotalInPer">
                                                        </div>
                                                        <span class="text-center"
                                                            style=" position: absolute; width: 100%;  z-index: 10;">
                                                            {{val.totalCostPer | number:'1.2-2'}}
                                                        </span>
                                                    </td> -->
                                                </tr>
                                                <!-- ----- Total Manufacturing Cost ------ -->
                                                <tr>
                                                    <td colspan="1" class="footer-color"><b>Total Manufacturing
                                                            Cost</b></td>
                                                    <td colspan="1" class="footer-color"><b>$ {{Manu_TotalInUSDT2 |
                                                            number:'1.2-2'}}</b>
                                                    </td>
                                                    <td colspan="1" class="footer-color" [hidden]="ForexRegion==='USD'">
                                                        <b>{{ChekNull(ForexRegion)}} {{Manu_TotalInLocalT2 |
                                                            number:'1.2-2'}}</b>
                                                    </td>
                                                    <td
                                                        style="position: relative; padding-left: 0px; padding-top: 3px; ">
                                                        <div [style.width.%]="Manu_TotalInPerT2" class="TotalInPer">
                                                            <img src="../../../assets/report_img.png"
                                                                style="width: 100%;height: 100%;">
                                                        </div>
                                                        <span class="text-center"
                                                            style=" position: absolute; width: 100%;  z-index: 10;padding-top: 5px;font-size: 12px;">
                                                            <b>{{Manu_TotalInPerT2 | number:'1.0-0'}}</b>
                                                        </span>
                                                    </td>
                                                    <!-- <td
                                                        style="position: relative; padding-left: 0px; padding-top: 5px; ">
                                                        <div [style.width.%]="Manu_TotalInPer" class="TotalInPer">
                                                        </div>
                                                        <span class="text-center"
                                                            style=" position: absolute; width: 100%;  z-index: 10;">
                                                            {{Manu_TotalInPer | number:'1.2-2'}}
                                                        </span>
                                                    </td> -->
                                                </tr>
                                                <tr *ngFor="let val of shouldCostBreakdownNonListT2; let i=index"
                                                    class="ShouldCostBreakdowntabletr">
                                                    <td *ngIf="val.totalCostPer > 0" style="padding: 10px 10px;">
                                                        {{val.particular}}</td>
                                                    <td *ngIf="val.totalCostPer > 0">$ {{val.usdValue | number:'1.2-2'
                                                        }}</td>
                                                    <td *ngIf="val.totalCostPer > 0" [hidden]="ForexRegion==='USD'">
                                                        {{ChekNull(ForexRegion)}} {{val.localValue |
                                                        number:'1.2-2' }}</td>
                                                    <td *ngIf="val.totalCostPer > 0"
                                                        style="position: relative; padding-left: 0px; padding-top: 3px; ">
                                                        <div [style.width.%]="val.totalCostPer" class="TotalInPer">
                                                            <img src="../../../assets/report_img.png"
                                                                style="width: 100%;height: 100%;">
                                                        </div>
                                                        <span class="text-center"
                                                            style=" position: absolute; width: 100%;  z-index: 10;padding-top: 3px;">
                                                            {{val.totalCostPer | number:'1.0-0'}}
                                                        </span>
                                                    </td>
                                                    <!-- <td *ngIf="val.totalCostPer > 0"
                                                        style="position: relative; padding-left: 0px; padding-top: 3px; ">
                                                        <div [style.width.%]="val.totalCostPer" class="TotalInPer">
                                                        </div>
                                                        <span class="text-center"
                                                            style=" position: absolute; width: 100%;  z-index: 10;padding-top: 3px;">
                                                            {{val.totalCostPer | number:'1.0-0'}}
                                                        </span>
                                                    </td> -->
                                                </tr>
                                                <!-- ----- Total Non-Manufacturing Cost ------ -->
                                                <!-- <tr>
                                                    <td colspan="1" class="footer-color"><b>Total Non-Manufacturing
                                                            Cost</b></td>
                                                    <td colspan="1" class="footer-color"><b>{{Non_TotalInUSDT2 |
                                                            number:'1.2-2'}}</b></td>
                                                    <td colspan="1" class="footer-color"><b>{{Non_TotalInLocalT2 |
                                                            number:'1.2-2'}}</b>
                                                    </td>
                                                    <td style="position: relative; padding-left: 0px; padding-top: 3px; ">
                                                        <div [style.width.%]="Non_TotalInPerT2" class="TotalInPer">
                                                            <img src="../../../assets/report_img.png" style="width: 100%;height: 100%;">
                                                        </div>
                                                        <span class="text-center" style=" position: absolute; width: 100%;  z-index: 10;padding-top: 3px;">
                                                            {{Non_TotalInPerT2 | number:'1.0-0'}}
                                                        </span>
                                                    </td>
                                                </tr> -->
                                                <!-- ----- Total Cost ------ -->
                                                <tr>
                                                    <td colspan="1" class="footer-color tfoot"><b>Part Cost</b>
                                                    </td>
                                                    <td colspan="1" class="footer-color tfoot"><b>$ {{TotalInUSDT2 |
                                                            number:'1.2-2'}}</b>
                                                    </td>
                                                    <td colspan="1" class="footer-color tfoot"
                                                        [hidden]="ForexRegion==='USD'"><b>{{ChekNull(ForexRegion)}}
                                                            {{TotalInLocalT2 |
                                                            number:'1.2-2'}}</b>
                                                    </td>
                                                    <td
                                                        style="position: relative; padding-left: 0px; padding-top: 3px; ">
                                                        <div [style.width.%]="TotalInPerT2" class="TotalInPer">
                                                            <img src="../../../assets/report_img.png"
                                                                style="width: 100%;height: 100%;">
                                                        </div>
                                                        <span class="text-center"
                                                            style=" position: absolute; width: 100%;  z-index: 10;padding-top: 5px; font-size: 12px;">
                                                            <b> {{TotalInPerT2 | number:'1.0-0'}}</b>
                                                        </span>
                                                    </td>
                                                    <!-- <td  style="position: relative; padding-left: 0px; padding-top: 5px; ">
                                                        <div [style.width.%]="TotalInPer" class="TotalInPer">
                                                        </div>
                                                        <span class="text-center"
                                                            style=" position: absolute; width: 100%;  z-index: 10;">
                                                            {{TotalInPer | number:'1.0-0'}}
                                                        </span>
                                                    </td> -->
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                    <div class="col-md-12">
                                        <table class="table border">
                                            <tbody>
                                                <tr class="ShouldCostBreakdowntabletr">
                                                    <td style="padding: 10px 10px;">
                                                        <label for="ToolingCost" class="default-lbl toolingcost">Tooling
                                                            Cost ($) :</label>
                                                        <label for="ToolingCost"
                                                            class="default-lblvalue toolingcost">{{ChekNull((ToolingCost)
                                                            |
                                                            number:'1.2-2')}} </label>
                                                    </td>

                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                <div>
                                    <canvasjs-chart [options]="WaterfallchartOptions" id="chartOptionsId"
                                        [styles]="{width: '100%', height:'360px'}"></canvasjs-chart>
                                </div>


                            </fieldset>

                            <br>

                            <fieldset class="border rounded-3 p-3"
                                *ngIf="groupedMainT1.length > 0 || groupedMainT2.length > 0">
                                <legend class="w-auto labelDetailsheader d-flex align-items-center">
                                    <span class="title-corner-badge">NEW</span>
                                    Manufacturing Process Cost Details
                                    <button type="button" class="btn btn-sm btn-link p-0 ms-2"
                                        (click)="isExpandedMfgProcessCost = !isExpandedMfgProcessCost"
                                        [ngbTooltip]="isExpandedMfgProcessCost ? 'Collapse' : 'Expand'">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="#da291c"
                                            class="bi bi-caret-down-square-fill"
                                            [style.transform]="'rotate(' + rotationAngleMfgProcessCost + 'deg)'"
                                            style="transition: transform 0.3s ease;"
                                            (click)="rotateIconMfgProcessCost()" viewBox="0 0 16 16">
                                            <path
                                                d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm4 4a.5.5 0 0 0-.374.832l4 4.5a.5.5 0 0 0 .748 0l4-4.5A.5.5 0 0 0 12 6z" />
                                        </svg>
                                    </button>
                                </legend>

                                <div class="row">
                                    <!-- T1 -->
                                    <div [ngClass]="manufacturing_mainT2.length > 0 ? 'col-md-6' : 'col-md-12'"
                                        *ngIf="groupedMainT1.length > 0">

                                        <label class="CostHeading">Finish Part Process</label>
                                        <div class="mfg_cost_details-scrollable-body"
                                            [ngClass]="{'mfg_cost_details-scroll-enabled': !isExpandedMfgProcessCost}">
                                            <table class="mfg_cost_details-table table border">
                                                <thead>
                                                    <tr>
                                                        <th class="ShouldCostBreakdowntableth">Part Number</th>
                                                        <th class="ShouldCostBreakdowntableth">Part Name</th>
                                                        <th class="ShouldCostBreakdowntableth">Process Name</th>
                                                        <th class="ShouldCostBreakdowntableth">Initial Cost</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <ng-container *ngFor="let part of groupedMainT1">
                                                        <tr *ngFor="let process of part.processes; let i = index">
                                                            <td *ngIf="i === 0" [attr.rowspan]="part.processes.length">
                                                                {{ part.partNumber }}</td>
                                                            <td *ngIf="i === 0" [attr.rowspan]="part.processes.length">
                                                                {{ part.subpartName }}</td>
                                                            <td>{{ process.manufacturingProcessName.split('/')[0].trim()
                                                                }}</td>
                                                            <td>$ {{ process.manufacturingCost | number:'1.2-2' }}</td>
                                                        </tr>
                                                    </ng-container>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>

                                    <!-- T2 -->
                                    <div class="col-md-6" *ngIf="groupedMainT2.length > 0">
                                        <label class="CostHeading">Tier2 Process</label>
                                        <div class="mfg_cost_details-scrollable-body"
                                            [ngClass]="{'mfg_cost_details-scroll-enabled': !isExpandedMfgProcessCost}">
                                            <table class="mfg_cost_details-table table border">
                                                <thead>
                                                    <tr>
                                                        <th class="ShouldCostBreakdowntableth">Part Number</th>
                                                        <th class="ShouldCostBreakdowntableth">Part Name</th>
                                                        <th class="ShouldCostBreakdowntableth">Process Name</th>
                                                        <th class="ShouldCostBreakdowntableth">Initial Cost</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <ng-container *ngFor="let part of groupedMainT2">
                                                        <tr *ngFor="let process of part.processes; let i = index">
                                                            <td *ngIf="i === 0" [attr.rowspan]="part.processes.length">
                                                                {{ part.partNumber }}</td>
                                                            <td *ngIf="i === 0" [attr.rowspan]="part.processes.length">
                                                                {{ part.subpartName }}</td>
                                                            <td>{{ process.manufacturingProcessName.split('/')[0].trim()
                                                                }}</td>
                                                            <td>$ {{ process.manufacturingCost | number:'1.2-2' }}</td>
                                                        </tr>
                                                    </ng-container>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                    </div>
                    <div class="">
                        <div *ngIf="showTab1" class="page dataPanel" style="margin-top: -30px;">

                            <fieldset [hidden]="modelTypes_Id == 5 || modelTypes_Id == 3" class="border rounded-3 p-3">
                                <legend class="w-auto labelDetailsheader">Material Grade Details</legend>
                                <br>
                                <label class="CostHeading">Material Grade Details for Finish Part</label>
                                <div class="row" *ngIf="hasData(); else noData">
                                    <div class="col-md-12">
                                        <table class="table table-bordered ">
                                            <thead>
                                                <tr>
                                                    <th class="ShouldCostBreakdowntableth" style="width: 10px;">Sr. No.
                                                    </th>
                                                    <th class="ShouldCostBreakdowntableth" style="width: 40%;">
                                                        Material Grade</th>
                                                    <th class="ShouldCostBreakdowntableth">
                                                        Material Rate ($)
                                                    </th>
                                                    <th class="ShouldCostBreakdowntableth">
                                                        Material Cost ($)
                                                    </th>
                                                    <th class="ShouldCostBreakdowntableth">Part
                                                        Net Weight (Kg)</th>
                                                    <th class="ShouldCostBreakdowntableth">Part
                                                        Gross Weight (Kg)</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let val of MaterialGrade; let i=index">
                                                    <td class="ShouldCostBreakdowntabletr" style="text-align: right;">
                                                        {{i + 1}}</td>
                                                    <td class="ShouldCostBreakdowntabletr">{{val.materialType }}</td>
                                                    <td class="ShouldCostBreakdowntabletr" style="text-align: right;">
                                                        {{val.directMaterialRate | number:'1.2-2'}}</td>
                                                    <td class="ShouldCostBreakdowntabletr" style="text-align: right;">
                                                        {{val.directMaterialCost | number:'1.2-2'}}</td>
                                                    <td class="ShouldCostBreakdowntabletr" style="text-align: right;">
                                                        {{val.partFinishWeight | number:'1.2-2'}}</td>
                                                    <td class="ShouldCostBreakdowntabletr" style="text-align: right;">
                                                        {{val.partGrossWeight | number:'1.2-2'}}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                <ng-template #noData>
                                    <p>NA</p>
                                </ng-template>

                                <label class="CostHeading">Material Grade Details for Tier#2 or Rough Part or Casting or
                                    Forging</label>
                                <div class="row" *ngIf="hasDataT2(); else noData">
                                    <div class="col-md-12">
                                        <table class="table table-bordered ">
                                            <thead>
                                                <tr>
                                                    <th class="ShouldCostBreakdowntableth" style="width: 10px;">Sr. No.
                                                    </th>
                                                    <th class="ShouldCostBreakdowntableth" style="width: 40%;">
                                                        Material Grade</th>
                                                    <th class="ShouldCostBreakdowntableth">
                                                        Material Rate ($)
                                                    </th>
                                                    <th class="ShouldCostBreakdowntableth">
                                                        Material Cost ($)
                                                    </th>
                                                    <th class="ShouldCostBreakdowntableth">Part
                                                        Net Weight (Kg)</th>
                                                    <th class="ShouldCostBreakdowntableth">Part
                                                        Gross Weight (Kg)</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let val of MaterialGradeT2; let i=index">
                                                    <td class="ShouldCostBreakdowntabletr" style="text-align: right;">
                                                        {{i + 1}}</td>
                                                    <td class="ShouldCostBreakdowntabletr">{{val.materialType }}</td>
                                                    <td class="ShouldCostBreakdowntabletr" style="text-align: right;">
                                                        {{val.directMaterialRate | number:'1.2-2'}}</td>
                                                    <td class="ShouldCostBreakdowntabletr" style="text-align: right;">
                                                        {{val.directMaterialCost | number:'1.2-2'}}</td>
                                                    <td class="ShouldCostBreakdowntabletr" style="text-align: right;">
                                                        {{val.partFinishWeight | number:'1.2-2'}}</td>
                                                    <td class="ShouldCostBreakdowntabletr" style="text-align: right;">
                                                        {{val.partGrossWeight | number:'1.2-2'}}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                <ng-template #noData>
                                    <p>NA</p>
                                </ng-template>
                            </fieldset>
                            <br [hidden]="modelTypes_Id != 2">
                            <fieldset [hidden]="modelTypes_Id != 2" class="border rounded-3 p-3">
                                <legend class="w-auto labelDetailsheader">Additional Information</legend>
                                <div class="row">
                                    <div class="col-md-12">
                                        <label for="PartWeight" class="default-lbl">
                                            {{ChekNull(additional_Information)}}
                                        </label>
                                    </div>
                                </div>
                            </fieldset>
                            <br>
                            <fieldset class="border rounded-3 p-3">
                                <legend class="w-auto labelDetailsheader">Part Dimension Details</legend>
                                <div class="row">
                                    <div class="col-md-6">
                                        <label for="PartLength" class="default-lbl">Part L*W*H :</label>
                                        <label for="EstimatedSpend" class="default-lblvalue">
                                            {{ChekNull_LWH(PartLength)}} X {{ChekNull_LWH(PartWidth)}} X
                                            {{ChekNull_LWH(PartHeight)}} </label>
                                    </div>

                                    <div class="col-md-6">
                                        <label for="PartWeight" class="default-lbl">Part Weight :</label>
                                        <label for="EstimatedSpend" class="default-lblvalue">
                                            {{ChekNull_Wt()}}
                                        </label>
                                    </div>
                                    <ng-template #noData>
                                        <label class="default-lblvalue">na</label>
                                    </ng-template>
                                </div>
                            </fieldset>
                            <br>
                            <fieldset class="border rounded-3 p-3" [hidden]="RoleId==26">
                                <legend class="w-auto labelDetailsheader">Cost Modeler Details</legend>
                                <div class="row">
                                    <div class="col-md-6">
                                        <label for="ShouldCostModeller" class="default-lbl">Should Cost Modeller
                                            :</label>
                                        <label for="EstimatedSpend"
                                            class="default-lblvalue">{{ChekNull(ShouldCostModeller)}}</label>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="ToolingCostModeller" class="default-lbl">Tooling Cost Modeller
                                            :</label>
                                        <label for="EstimatedSpend"
                                            class="default-lblvalue">{{ChekNull(ToolingCostModeller)}}</label>
                                    </div>
                                </div>
                                <br>
                            </fieldset>
                            <br>

                            <fieldset class="border rounded-3 p-3" *ngIf="ManufacturingProcess.length > 0">
                                <legend
                                    class="w-auto labelDetailsheader d-flex align-items-center justify-content-between">
                                    <span class="title-corner-badge">NEW</span> <span>Manufacturing Process</span>
                                    <button type="button" class="btn btn-sm btn-link p-0 ms-2"
                                        (click)="isExpanded = !isExpanded"
                                        [ngbTooltip]="isExpanded ? 'Collapse' : 'Expand'">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="#da291c"
                                            class="bi bi-caret-down-square-fill"
                                            [style.transform]="'rotate(' + rotationAngle + 'deg)'"
                                            style="transition: transform 0.3s ease;" (click)="rotateIcon()"
                                            viewBox="0 0 16 16">
                                            <path
                                                d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm4 4a.5.5 0 0 0-.374.832l4 4.5a.5.5 0 0 0 .748 0l4-4.5A.5.5 0 0 0 12 6z" />
                                        </svg>
                                    </button>
                                </legend>
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="mfg-process-container" [ngClass]="{ collapsed: !isExpanded }">
                                            <ng-container *ngFor="let val of ManufacturingProcess">
                                                <div class="manufacturingProcessName-container">
                                                    <div class="manufacturingProcessName-tail"></div>
                                                    <div class="manufacturingProcessName-box">
                                                        <span
                                                            class="manufacturingProcessName-text">{{val.manufacturingProcessName.split('/')[0].trim()
                                                            }}</span>
                                                    </div>
                                                </div>
                                            </ng-container>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>

                            <div class="text-start RemarkSection">
                                <b>Remarks : </b>
                                <ol type="1">
                                    <li><b>{{NA}}</b>- Not Available</li>
                                    <li>For Cost Types, please refer Help & Support section on model grades
                                        and costing methodologies</li>
                                    <li>Update/tweak previously costed models with latest raw material,
                                        labor & commercial headers. Refer to Help & Support section on our Reuse,
                                        Refresh, Request approach.</li>
                                    <li>Send to COE team to refresh previously costed model for
                                        intensive Process OH cost updates. Refer to Help & Support section on our Reuse,
                                        Refresh, Request approach.</li>
                                </ol>
                            </div>

                            <!-- <div>
                                <label [hidden]="!IsCESmodel" class="text-center CSModelRemark"
                                    style="margin-left: 0px;">{{ModelwiseNote}}</label>
                            </div> -->

                        </div>
                        <div [hidden]="!showTab2" class="page dataPanel">
                            <div class="container">

                                <app-design-to-cost [PartNumber]="PartNumber" [ProgramName]="ProjectName"
                                    [NounName]="PartName"></app-design-to-cost>
                            </div>

                        </div>
                    </div>
                </div>

                <div *ngIf="showTab1" class="row buttons">
                    <div class="col-md-12 text-end" style="padding-right: 40px;">
                        <input type="button" class="btn btn-primary btnDownload" value="Refresh Model⁴"
                            Name="Refresh Model⁴" (click)="SendNewRequest()">
                        <input [hidden]="modelTypes_Id == 5" type="button" class="btn btn-primary btnDownload"
                            value="Download Model" Name="Download Model" (click)="DownloadReport()">
                        <input [hidden]="YellowModel_MarketBenchmark" type="button" class="btn btn-primary btnDownload"
                            value="Update Model³" Name="Update Model³" (click)="UpdateReport()">
                    </div>
                </div>
                <br>
            </div>
        </form>
    </div>
</div>