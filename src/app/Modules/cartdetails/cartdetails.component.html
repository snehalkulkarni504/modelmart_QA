<div class="container-fluid maxheight">
    <ngx-spinner name="spinner" bdColor="rgba(51, 51, 51, 0.8)" size="large" color="#fff" type="square-jelly-box"
        [fullScreen]="true">
        <img alt="Loading Please Wait..." style="width:100px ; height:100px ;" src="../../../assets/Spin-2.gif" />
    </ngx-spinner>
    <div class="setheight">
        <div class="MasterHeader">
            <div style="width: 50%;">
                <h2>Bom Simulation <label for="" style="font-size: medium;">({{getrouteprogname}},
                        {{getroutecartname}})</label></h2>
            </div>
            <div class="text-end" style="width: 80%;">
                <!-- <button class="btnCreateCart" (click)="Downloadtemplate()">Download Template</button>
                <button class="btnCreateCart" (click)="excelU=true" (click)="cartcreate=false"
                    (click)="openUploadModal()">Upload Excel</button> -->
                <button class="btnbackLeft" (click)="backToPreviousPage()">Back</button>
            </div>
        </div>
        <!--Start model-->
        <div id="myModal" class="modal fade" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Upload Excel File</h4>
                        <button type="button" class="close" (click)="closeUploadModal()">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div style="display: flex; align-items: center;">
                            <div style="flex: 1;">
                                <input type="file" id='fileInput' (change)="onFileSelected($event)" accept=".xlsx">
                                <div class="error-message" *ngIf="showError7"> Please select file to upload</div>
                            </div>

                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" (click)="closeUploadModal()">Close</button>
                        <button type="button" class="btn btn-primary" (click)="uploadExcel()">Upload</button>
                    </div>
                </div>
            </div>
        </div>

        <form [formGroup]="BUnitMasterForm">

            <div class="MasterHeaderlable">
                <div class="row">
                    <div class="col-md-3 form-group has-search" style="padding-top: 2.5rem;">
                        <span class="bi bi-search form-control-feedback"></span>
                        <input type="text" class="form-control search-input" placeholder="Search"
                            formControlName="textsearch" [(ngModel)]="textsearch">
                    </div>

                    <div class="col-md-7">
                        <div class="card shadow-sm border-0" style="background: linear-gradient(135deg, #d0d1d4, #c3cfe2); padding: 10px;">
                          <div class="row text-center text-dark fw-bold" style="font-size: 0.95rem;">
                            <div class="col-2">
                              <div>Unique Qty</div>
                              <div class="text-primary fs-5">{{ uniqeqty }}</div>
                            </div>
                            <div class="col-2">
                              <div>BOM Qty</div>
                              <div class="text-success fs-5">{{bomqty}}</div>
                            </div>
                            <div class="col-2">
                              <div>BOM Cost</div>
                              <div class="text-danger fs-5">${{fcost}}</div>
                            </div>
                            <div class="col-3">
                              <div>Last Simulated</div>
                              <div class="text-muted fs-6">{{ lastsumulate | date:'dd/MM/yyyy'}}</div>
                            </div>
                            <div class="col-3">
                                <div>Matched Records</div>
                                <div class="text-primary fs-5">{{matchraw}}</div>
                              </div>
                          </div>
                        </div>
                      </div>


                    <div class="col-md-2" style="display: inline-flex; font-size: smaller;" >

                        <div class="col-md-6" style="display: ruby-text;">
                            <button class="btndemo" style="width: 120%;" (click)="Downloadtemplate()">Download Template</button>
                            <button class="btndemo" style="margin-top: 15px; margin-left:34px"  (click)="addRow()" (click)="scroll(target)">Add Row</button>
                        </div>

                        <div class="col-md-6" style="display: ruby-text;">
                            <button class="btndemo"  (click)="excelU=true" (click)="cartcreate=false" (click)="openUploadModal()"
                            style="margin-top: 0px;margin-left: 29%; width: 80px;">Upload Excel</button>

                        <img style="margin-top: 14px; margin-left:30px" src="../../../../assets/exportexcel.png" class="exportToExcel" (click)="exportToExcel()" title="Export to Excel">

                        </div>

                    </div>


                </div>


            </div>
        </form>



        <!-- -------------------------------- -->

        <div class="table-container">
            <table class="styled-table">
              <thead >
                <tr class="header-top">
                  <th [colSpan]="colspanhide1" class="collapsed1" (click)="hide1()" style="cursor: pointer; text-align: start;"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-plus" viewBox="0 0 16 16">
                    <path d="M8.5 6a.5.5 0 0 0-1 0v1.5H6a.5.5 0 0 0 0 1h1.5V10a.5.5 0 0 0 1 0V8.5H10a.5.5 0 0 0 0-1H8.5z"/>
                    <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1"/>
                  </svg>
                  </th>
                  <th [colSpan]="colspanhide2" class="collapsed2" (click)="hide2()" style="cursor: pointer;text-align: start;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-plus" viewBox="0 0 16 16">
                        <path d="M8.5 6a.5.5 0 0 0-1 0v1.5H6a.5.5 0 0 0 0 1h1.5V10a.5.5 0 0 0 1 0V8.5H10a.5.5 0 0 0 0-1H8.5z"/>
                        <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1"/>
                      </svg>
                  </th>
                  <th [colSpan]="colspanhide3" class="collapsed3" (click)="hide3()" style="cursor: pointer;text-align: start;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-plus" viewBox="0 0 16 16">
                        <path d="M8.5 6a.5.5 0 0 0-1 0v1.5H6a.5.5 0 0 0 0 1h1.5V10a.5.5 0 0 0 1 0V8.5H10a.5.5 0 0 0 0-1H8.5z"/>
                        <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1"/>
                      </svg>
                  </th>
                  <th class="sticky-col" rowspan="2" style="background: #f15045; text-align: center;">Action</th>
                </tr>

                <tr class="header-sub" style="color: white;">
                        <th class="collapsed1" hidden>ID</th>
                        <th class="collapsed1" hidden>Bomid</th>
                        <th class="collapsed1">Part Number</th>
                        <th class="collapsed1">Part Name</th>
                        <th class="collapsed1">Displacement (L)</th>
                        <th class="collapsed1" [hidden]="Ishide1" >Material</th>
                        <th class="collapsed1" [hidden]="Ishide1">Weight (lbs)</th>
                        <th class="collapsed1" [hidden]="Ishide1" >Mfg Loc</th>
                        <th class="collapsed1" [hidden]="Ishide1">Parent Part Number</th>
                        <th class="collapsed1" [hidden]="Ishide1">CostType</th>
                        <th class="collapsed1" [hidden]="Ishide1">Current Program</th>
                        <th class="collapsed1" [hidden]="Ishide1">Parent Program</th>
                        <th class="collapsed1" [hidden]="Ishide1">Bom Qty</th>

                        <th [hidden]="Ishide2" class="collapsed2">Name</th>
                        <th class="collapsed2">ModelMart Id</th>
                        <th class="collapsed2">Representative Part Number</th>
                        <th class="collapsed2">Representative Part Name</th>
                        <th [hidden]="Ishide2" class="collapsed2">Representative Program</th>
                        <th [hidden]="Ishide2" class="collapsed2">Representative Region</th>
                        <th [hidden]="Ishide2" class="collapsed2">Representative SC ($)</th>
                        <th [hidden]="Ishide2" class="collapsed2">Representative Simulated Cost ($)</th>
                        <th [hidden]="Ishide2" class="collapsed2">Final Cost ($)</th>
                        <th [hidden]="Ishide2" class="collapsed2">Gbpa Cost ($)</th>


                        <th [hidden]="Ishide3" class="collapsed3">Model Type</th>
                        <!--<th [hidden]="Ishide3" class="collapsed3">Match Type</th>-->
                        <!--<th [hidden]="Ishide3" class="collapsed3">ask to Sura</th>-->
                        <th [hidden]="Ishide3" class="collapsed3">Dimensions (mm)</th>
                        <th class="collapsed3">Weight (lbs)</th>
                        <th class="collapsed3">Raw Material</th>
                        <th class="collapsed3" [hidden]="Ishide3">Representative Invoice</th>
                        <th [hidden]="Ishide3" class="collapsed3">Engine Displacement (L)</th>
                        <th [hidden]="Ishide3" class="collapsed3">Mfg Process </th>
                        <th [hidden]="Ishide3" class="collapsed3">Utilization</th>
                        <th [hidden]="Ishide3" class="collapsed3">Supplier Name</th>
                        <th [hidden]="Ishide3" class="collapsed3">Cost Type ($)</th>
                        <th [hidden]="Ishide3" class="collapsed3">Debrief Date</th>
                </tr>

              </thead>
              <tbody style="font-size: 12px;">
                <!-- Repeat for rows -->
                <tr *ngFor="let row of SearchProductList | search: textsearch:filterMetadata ">
                  
                        <td hidden>{{row.cartId}}</td>
                        <td hidden>{{row.bomId}}</td>

                        <td>
                            <span *ngIf="!row.editable">{{ row.excelpartno }}</span>
                            <input *ngIf="row.editable" [(ngModel)]="row.excelpartno" value="{{row.excelpartno}}"
                                class="editable-input" />
                        </td>
                        <td><span *ngIf="!row.editable">{{ row.excelname }}</span>
                            <input *ngIf="row.editable" [(ngModel)]="row.excelname" value="{{row.excelname}}"
                                class="editable-input" />
                        </td>
                        <td><span *ngIf="!row.editable">{{ row.excelenginedisplacement }}</span>
                            <input *ngIf="row.editable" [(ngModel)]="row.excelenginedisplacement"
                                value="{{row.excelenginedisplacement}}" class="editable-input" />
                        </td>

                        <td [hidden]="Ishide1">
                            <span *ngIf="!row.editable">{{ row.excelmeterial }}</span>
                            <input *ngIf="row.editable" [(ngModel)]="row.excelmeterial" value="{{row.excelmeterial}}"
                                class="editable-input" />
                        </td>
                        <td [hidden]="Ishide1">
                            <span *ngIf="!row.editable">{{ row.excelweight }}</span>
                            <input *ngIf="row.editable" [(ngModel)]="row.excelweight" value="{{row.excelweight}}"
                                class="editable-input" />
                        </td>

                        <td [hidden]="Ishide1">
                            <span *ngIf="!row.editable">{{ row.excelcostregion }}</span>
                            <input *ngIf="row.editable" [(ngModel)]="row.excelcostregion"
                                value="{{row.excelcostregion}}" class="editable-input" />
                        </td>

                        <td [hidden]="Ishide1">
                            <span *ngIf="!row.editable">{{ row.excelparentpartid }}</span>
                            <input *ngIf="row.editable" [(ngModel)]="row.excelparentpartid"
                                value="{{row.excelparentpartid}}" class="editable-input" />
                        </td>
                        <td [hidden]="Ishide1">
                            <span *ngIf="!row.editable">{{ row.excelcosttype }}</span>
                            <input *ngIf="row.editable" [(ngModel)]="row.excelcosttype" value="{{row.excelcosttype}}"
                                class="editable-input" />
                        </td>
                        <td [hidden]="Ishide1">
                            <span *ngIf="!row.editable">{{ row.excelcurrentprogram}}</span>
                            <input *ngIf="row.editable" [(ngModel)]="row.excelcurrentprogram"
                                value="{{row.excelcurrentprogram}}" class="editable-input" />
                        </td>
                        <td [hidden]="Ishide1">
                            <span *ngIf="!row.editable">{{ row.excelparentprogram}}</span>
                            <input *ngIf="row.editable" [(ngModel)]="row.excelparentprogram"
                                value="{{row.excelparentprogram}}" class="editable-input" />
                        </td>
                        <td [hidden]="Ishide1">
                            <span *ngIf="!row.editable">{{ row.excelitemcount }}</span>
                            <input *ngIf="row.editable" [(ngModel)]="row.excelitemcount" value="{{row.excelitemcount}}"
                                class="editable-input" />
                        </td>



                        <td [hidden]="Ishide2">{{row.name}}</td>
                        <td>{{row.categoryId}}</td>
                        <td>{{row.partNumber}}</td>
                        <td>{{row.partName}}</td>
                        <td [hidden]="Ishide2">{{row.projectName}}</td>
                        <td [hidden]="Ishide2">{{row.mfgRegion}}</td>
                        <td [hidden]="Ishide2">{{row.scost}}</td>
                        <td [hidden]="Ishide2">{{row.ucost}}</td>
                        <td [hidden]="Ishide2" *ngIf="row.ucost <= 0">
                            <span *ngIf="!row.editable">{{row.scost}}</span>
                            <input *ngIf="row.editable" [(ngModel)]="row.scost" value="{{row.scost}}" />
                        </td>
                        <td [hidden]="Ishide2" *ngIf="row.ucost > 0">{{row.ucost}}</td>
                        <td [hidden]="Ishide2">00</td>



                        <td [hidden]="Ishide3" *ngIf="row.ucost <= 0 ">Original</td>
                        <td [hidden]="Ishide3" *ngIf="row.ucost > 0">Simulated</td>
                        <!--<td [hidden]="Ishide3">{{row.partNumber}} X {{row.name}} X {{row.engineDisplacement}}</td>-->
                        <td [hidden]="Ishide3">
                        {{row.height| number:'1.0-0'}} X {{row.length|number:'1.0-0'}} X {{row.width| number:'1.0-0'}}
                        </td>
                        <td>{{row.weight * 2.20462 | number:'1.2-2' }} lbs</td>
                        <td>{{row.rowmaterial}}</td>
                        <td [hidden]="Ishide3">{{row.invoice}}</td>
                        <td [hidden]="Ishide3">{{row.engineDisplacement}}</td>
                        <td [hidden]="Ishide3">{{row.mfgProcess}}</td>
                        <td [hidden]="Ishide3">{{row.utilization}}</td>
                        <td [hidden]="Ishide3">{{row.supplierName}}</td>
                        <td [hidden]="Ishide3">{{row.costType}}</td>
                        <td [hidden]="Ishide3">{{row.dbdate}}</td>


                        <td class="sticky-col" style="position: sticky;">
                           
                            <i class="bi bi-pencil-fill" style="color: #da291c; font-size: medium;" *ngIf="!row.editable" (click)="editRow(row)" ngbTooltip="Edit" container="body"></i>
                            
                            
                            <i class="bi bi-repeat" style="color: #da291c; font-size: medium; padding: 0 10px;" *ngIf="row.editable && !row.isNew" (click)="saveRow(row)" ngbTooltip="Re-Run" container="body"></i>
                            <i class="bi bi-repeat" style="color: #da291c; font-size: medium; padding-right:10px;" *ngIf="row.isNew" (click)="saveNewRow(row)" ngbTooltip="Re-Run" container="body"></i>
                            <i class="bi bi-x-circle-fill" style="color: #da291c; font-size: medium;"  *ngIf="row.editable" (click)="cancelEdit(row)" ngbTooltip="Cancel" container="body"></i>
                            <i class="bi bi-trash-fill" style="color: #da291c; font-size: medium;" *ngIf="row.isNew" (click)="cancelRow(row)" ngbTooltip="Delete" container="body"></i>
                            <i class="bi bi-layers-fill" style="color: #da291c; font-size: medium; padding: 0 10px;"  (click)="Override(row)" ngbTooltip="Override" container="body"></i>
                            <i class="bi bi-trash-fill" style="color: #da291c; font-size: medium;" (click)="deleteRow(row.bomId)" *ngIf="!row.isNew" ngbTooltip="Delete" container="body"></i>

                        </td> 

                        <!-- <td class="sticky-col" style="position: sticky;">
                          <button class="action-btn">Edit</button>
                        </td> -->


                    

                 
                </tr>
              </tbody>
            </table>
          </div>
          




        <!-- -------------------------------- -->


        <div class="row">
            <div class="col-md-10">
            </div>
            <div class="col-md-2" style="padding-left: 80px;" #target>
                <button class="btn btn-sm default-btn" (click)="SaveRow()" style="padding: 10px 10px; margin-top: 10px;">Save BOM</button>
            </div>
        </div>
    </div>

    <!--Start cratdetails-->
    <div class="table-responsive">
        <div class="modal " tabindex="-1" role="dialog" [ngStyle]="{'display':display}">
            <div class="modal-dialog  modal-dialog-centered" role="document">
                <div class="modal-content" *ngIf="cartcreate">
                    <div class="modal-header">
                        <h4 class="modal-title">{{header}}</h4>
                        <label class="close modal-close-icn" (click)="onCloseHandled()">
                            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="#000" class="bi bi-x"
                                viewBox="0 0 16 16">
                                <path
                                    d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
                            </svg>
                        </label>
                    </div>
                    <div class="modal-body">
                        <form>
                            <div class="form-group">
                                <label for="cartName" class="default-lbl" style="font-size: 16px;">Cart Name</label>
                                <input class="form-control form-control-sm" type="text" name="cartName" id="cartName"
                                    placeholder="Please enter Cart Name" [(ngModel)]='Cartcategory'>
                                <div class="error-message" *ngIf="showError1" style="font-size: 10px;color: red;">
                                    Please enter CartName.
                                </div>
                                <div class="error-message" *ngIf="showError2" style="font-size: 10px;color: red;">
                                    CartName allready exist please use different Cart Name.
                                </div>

                            </div>

                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-sm btn-secondary" data-bs-dismis="modal"
                            (click)="onCloseHandled()">Close</button>
                        <button type="button" class="btn btn-sm  btn-default default-btn_popup"
                            (click)="onSaveButton()">{{txt_btn}}</button>
                    </div>
                </div>


                <div class="modal-content" *ngIf="excelU">
                    <div class="modal-header">
                        <h4 class="modal-title">Upload Excel File</h4>
                        <button type="button" class="close" (click)="onCloseHandled()">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <label for="fileInput"
                                   style="padding: 6px 12px; background-color: #4e54c8; color: white; border-radius: 4px; cursor: pointer; font-size: 14px;">
                              Choose File
                            </label>
                         
                            <input type="file" id="fileInput" (change)="onFileSelected($event)" accept=".xlsx"
                                   style="display: none;">
                           
                            <span style="font-size: 14px; color: #333;" *ngIf="selectedfilename">{{ selectedfilename }}</span>
                          </div>                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-sm btn-secondary" (click)="onCloseHandled()">Close</button>
                        <button type="button" class="btn btn-sm  btn-default default-btn_popup"
                            (click)="uploadExcel()">Upload</button>
                    </div>
                </div>


                <!--Model for override-->
                <!-- <div class="modal-content modalwidth" style="font-size: 10px !important;" *ngIf="override">
                    <div class="modal-header">
                        <h4 class="modal-title">Suggested Bom</h4>
                        <button type="button" class="close" (click)="onCloseHandled()">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body table-responsive">
                        <table class="table table-bordered table-striped">
                            <thead>
                                <tr>

                                    <th>Name</th>
                                    <th>ModelMart Id</th>
                                    <th>Representative Part Number</th>
                                    <th>Representative Program</th>
                                    <th>Representative Region</th>
                                    <th>Representative SC</th>
                                    <th>Representative Simulated Cost</th>
                                    <th>Final.Cost</th>
                                    <th>Gbpa Cost</th>
                                    <th>Representative Invoice</th>
                                    <th>Model.Type</th>
                                    <th>Match.Type</th>
                                    <th>Dimensions</th>
                                    <th>Weight</th>
                                    <th>Raw Material</th>
                                    <th>Engine Displacement</th>
                                    <th>Mfg Process </th>
                                    <th>Utilization</th>
                                    <th>Supplier Name</th>
                                    <th>Cost Type</th>
                                    <th>Debrief Date</th>

                                    <th colspan="4">Action</th>
                                </tr>

                            </thead>
                            <tbody>
                                <tr
                                    *ngFor="let row of OverrideProductList | search: textsearch:filterMetadata | paginate: { itemsPerPage: 20, currentPage: page }  let i=index">
                                    <td>{{row.name}}</td>
                                    <td>{{row.categoryId}}</td>
                                    <td>{{row.partNumber}}</td>
                                    <td>{{row.projectName}}</td>
                                    <td>{{row.mfgRegion}}</td>
                                    <td>{{row.scost}}</td>
                                    <td>{{row.ucost}}</td>
                                    <td *ngIf="row.ucost <= 0">
                                        <span *ngIf="!row.editable">{{row.scost}}</span>
                                        <input *ngIf="row.editable" [(ngModel)]="row.scost" value="{{row.scost}}" />
                                    </td>
                                    <td *ngIf="row.ucost > 0">{{row.ucost}}</td>
                                    <td>00</td>
                                    <td>{{row.invoice}}</td>
                                    <td *ngIf="row.ucost <= 0">Original</td>
                                    <td *ngIf="row.ucost > 0">Simulated</td>
                                    <td>{{row.partNumber}}/{{row.name}}-{{row.engineDisplacement}}</td>
                                    <td>{{row.height}} X {{row.length}} X {{row.width}}</td>
                                    <td>{{row.weight}}</td>
                                    <td>{{row.rowmaterial}}</td>
                                    <td>{{row.excelenginedisplacement}}L</td>
                                    <td>{{row.mfgProcess}}</td>
                                    <td>{{row.utilization}}</td>
                                    <td>{{row.supplierName}}</td>
                                    <td>{{row.costType}}</td>
                                    <td>{{row.dbdate}}</td>
                                    <td class="action-buttonsmodel">
                                        <button (click)="Replace(row)">Replace</button>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-sm btn-secondary" (click)="onCloseHandled()">Close</button>
                    </div>
                </div> -->




                <div *ngIf="override" class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display':display}">
                    <div class="modal-dialog modal-dialog-centered" role="document" style="max-width: 80%;">
                        <div class="modal-content" style="height: 310px;">
                            <div class="modal-header">
                                <h4 class="modal-title">Suggested BOM</h4>
                                <label class="close modal-close-icn" (click)="onCloseHandled()">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="#000" class="bi bi-x"
                                        viewBox="0 0 16 16">
                                        <path
                                            d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
                                    </svg>
                                </label>
                            </div>
                            <div class="modal-body" style="padding: 0 2%;">
                                <div class="modal-body table-responsive" style="height: 177px;">
                        <table class="table table-bordered table-striped">
                            <thead>
                                <tr>

                                    <th>Name</th>
                                    <th>ModelMart Id</th>
                                    <th>Representative Part Number</th>
                                    <th>Representative Program</th>
                                    <th>Representative Region</th>
                                    <th>Representative SC</th>
                                    <th>Representative Simulated Cost</th>
                                    <th>Final.Cost</th>
                                    <th>Gbpa Cost</th>
                                    <th>Representative Invoice</th>
                                    <th>Model.Type</th>
                                    <th>Match.Type</th>
                                    <th>Dimensions</th>
                                    <th>Weight</th>
                                    <th>Raw Material</th>
                                    <th>Engine Displacement</th>
                                    <th>Mfg Process </th>
                                    <th>Utilization</th>
                                    <th>Supplier Name</th>
                                    <th>Cost Type</th>
                                    <th>Debrief Date</th>

                                    <th colspan="4">Action</th>
                                </tr>

                            </thead>
                            <tbody>
                                <tr
                                    *ngFor="let row of OverrideProductList | search: textsearch:filterMetadata | paginate: { itemsPerPage: 20, currentPage: page }  let i=index">
                                    <!--<tr>-->
                                    <td>{{row.partName}}</td>
                                    <td>{{row.categoryId}}</td>
                                    <td>{{row.partNumber}}</td>
                                    <td>{{row.projectName}}</td>
                                    <td>{{row.mfgRegion}}</td>
                                    <td>{{row.scost}}</td>
                                    <td>{{row.ucost}}</td>
                                    <td *ngIf="row.ucost <= 0">
                                        <span *ngIf="!row.editable">{{row.scost}}</span>
                                        <input *ngIf="row.editable" [(ngModel)]="row.scost" value="{{row.scost}}" />
                                    </td>
                                    <td *ngIf="row.ucost > 0">{{row.ucost}}</td>
                                    <td>00</td>
                                    <td>{{row.invoice}}</td>
                                    <td *ngIf="row.ucost <= 0">Original</td>
                                    <td *ngIf="row.ucost > 0">Simulated</td>
                                    <td>{{row.partNumber}}/{{row.name}}-{{row.engineDisplacement}}</td>
                                    <td>{{row.height| number:'1.0-0'}} X {{row.length|number:'1.0-0'}} X {{row.width| number:'1.0-0'}}</td>
                                    <td>{{row.weight * 2.20462 | number:'1.2-2' }} lbs</td>
                                    <td>{{row.rowmaterial}}</td>
                                    <td>{{row.excelenginedisplacement}}</td>
                                    <td>{{row.mfgProcess}}</td>
                                    <td>{{row.utilization}}</td>
                                    <td>{{row.supplierName}}</td>
                                    <td>{{row.costType}}</td>
                                    <td>{{row.dbdate}}</td>
                                    <td class="action-buttonsmodel">
                                        <button (click)="Replace(row)">Replace</button>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-sm btn-secondary" data-bs-dismis="modal"
                                    (click)="onCloseHandled()">Close</button>
                            </div>
                        </div>
                    </div>
                </div>



            </div>
        </div>
    </div>
</div>