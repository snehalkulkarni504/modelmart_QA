<div class="container-fluid maxheight">
    <ngx-spinner name="spinner" bdColor="rgba(51, 51, 51, 0.8)" size="large" color="#fff" type="square-jelly-box"
        [fullScreen]="true">
        <img alt="Loading Please Wait..." style="width:100px ; height:100px ;" src="../../../assets/Spin-2.gif" />
    </ngx-spinner>
<div class="setheight">
    <div class="MasterHeader">
        <div style="width: 50%;">
            <h2>Bom Simulation</h2>
        </div>
        <div class="text-end" style="width: 80%;">
           <button class="btnCreateCart" (click)="Downloadtemplate()">Download Template</button>
            <button class="btnCreateCart" (click)="excelU=true" (click)="cartcreate=false"(click)="openUploadModal()">Upload Excel</button>
           <!-- <button class="btnCreateCart" (click)="cartcreate=true" (click)="excelU=false" (click)="openModal()">Create New Cart</button>-->
            <button class="btnbackLeft" (click)="backToPreviousPage()">Back</button>
        </div>
    </div>
<!--Start model-->
    <div id="myModal" class="modal fade"  tabindex="-1" role="dialog" >
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Upload Excel File</h4>
                    <button type="button" class="close" (click)="closeUploadModal()">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div style="display: flex; align-items: center;">
                        <div style="flex: 1;">
                            <input type="file" id='fileInput' (change)="onFileSelected($event)" accept=".xlsx">
                            <div class="error-message" *ngIf="showError7"> Please select file to upload</div>
                        </div>
                        
                    </div>
                    <!-- <input type="date" #fromDateCalendar [(ngModel)]="uploadfromdate" dateFormat="dd-mm-yy"> -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" (click)="closeUploadModal()">Close</button>
                    <button type="button" class="btn btn-primary" (click)="uploadExcel()">Upload</button>
                </div>
            </div>
        </div>
    </div>
<!--end model for upload-->

<form [formGroup]="BUnitMasterForm">
    
    <div class="MasterHeaderlable">
        <div class="row">
            <div class="col-md-4">
                <button class="btn btn-sm default-btn" (click)="addRow()" (click)="scroll(target)" style="margin-top: 0px;">Add Row</button>
            </div>
            <div class="col-md-4">
                
            </div>
            <div class="col-md-3 form-group has-search" >
                
                <span class="bi bi-search form-control-feedback"></span>
                <input type="text" class="form-control search-input" placeholder="Search"
                    formControlName="textsearch" [(ngModel)]="textsearch" >
                

            </div>
            <div class="col-md-1 pull right"><img src="../../../../assets/exportexcel.png" class="exportToExcel" (click)="exportToExcel()"
                title="Export to Excel"></div>
           <!-- <div class="col-md-3">
                <label for="dropdown5" class="default-lbl">Cart Name</label>
                <ng-select [ngModelOptions]="{standalone: true}"  [searchable]="true" placeholder="Please select"
                    [(ngModel)]='selectedcatagory' (change)="ClearGird()" (change)="getCategoryIdcat3()">
                    <ng-option *ngFor="let g of Cat3"
                        [value]="g.value">{{g.text}}</ng-option>
                </ng-select>

            </div>-->

          <!--  <div class="col-md-3">
                <label for="engineDisplace" class="default-lbl">Engine Displacement</label>
                <br>
                
                <input type="text" name="engineDisplace" id="engine" [(ngModel)]="engineDisplace" class="form-control form-control-sm">
            </div>-->

            <!--<div class="col-md-2">
                <label for="datepicker1" class="default-lbl">Platform</label>
                <br>
                <input type="text" formControlName="platform" [(ngModel)]="selectedplatform"
                    class="form-control form-control-sm">
            </div>-->
            

           <!-- <div class="col-md-1 text-center">
                <button type="button" class="btn btn-sm default-btn" data-bs-dismis="modal"
                (click)="enginefilter()">View</button>
            </div>
            <div class="col-md-1 text-center">
                <button type="button" class="btn btn-sm default-btn" data-bs-dismis="modal"
                (click)="ReseatFilter()">Reset</button>
            </div>
            <div class="col-md-1 text-center">-->
                <!-- <button type="button" class="btn btn-sm default-btn" data-bs-dismis="modal" (click)="exportToExcel()">Download</button> -->
               <!-- <br>
                <img src="../../../../assets/exportexcel.png" class="exportToExcel" (click)="exportToExcel()"
                    title="Export to Excel">
            </div>-->
        </div>

        
    </div>
  </form>
  <br/>
  <div class="row">
    <div class="col-md-3">
  <div class="btn-group mb-1">
    <button (click)="toggleGroup('group2')" style="font-size: 10px;">
        {{ columnGroupVisibility.group2 ? 'Collapse Input' : 'Expand Input' }}
    </button>
    
    
  </div>
  </div>
  <div class="col-md-4">
    <div class="btn-group mb-1">
    <button (click)="toggleGroup('group3')" style="font-size: 10px;">
        {{ columnGroupVisibility.group3 ? 'Collapse output' : 'Expand output' }}
    </button>
</div>
</div>
  <div class="col-md-5">
    <div class="btn-group mb-1">
    <button (click)="toggleGroup('group4')" style="font-size: 10px;">
        {{ columnGroupVisibility.group4 ? 'Collapse output' : 'Expand output' }}
    </button>
  </div>
</div>
</div>
    <div  class="d-flex table-responsive table-container tableFixHead" style="font-size: 10px !important;">
        
        <table class="table table-bordered table-striped table-container table-fixed">
            <thead>
                <tr>
                    <th hidden>ID</th>
                    <th hidden>Bomid</th>
                    
                    
                           <!-- <th>Noune Name</th>-->
                            <th>Part Number</th>
                            <th>Part Name</th>
                            <th>Displacement</th>
                            <!--<th>Part Name</th>-->
                            <th [ngClass]="{'collapsed': !columnGroupVisibility.group2}" *ngIf="columnGroupVisibility.group2">Material</th>
                            <th [ngClass]="{'collapsed': !columnGroupVisibility.group2}" *ngIf="columnGroupVisibility.group2">Weight</th>
                            <!--<th [ngClass]="{'collapsed': !columnGroupVisibility.group2}" *ngIf="columnGroupVisibility.group2">Price Details</th>-->
                            <th [ngClass]="{'collapsed': !columnGroupVisibility.group2}" *ngIf="columnGroupVisibility.group2">Mfg Loc</th>
                          <!-- <th [ngClass]="{'collapsed': !columnGroupVisibility.group2}" *ngIf="columnGroupVisibility.group2">Parent</th>-->
                            <th [ngClass]="{'collapsed': !columnGroupVisibility.group2}" *ngIf="columnGroupVisibility.group2">Parent Part Number</th>
                            <th [ngClass]="{'collapsed': !columnGroupVisibility.group2}" *ngIf="columnGroupVisibility.group2">CostType</th>
                            <th [ngClass]="{'collapsed': !columnGroupVisibility.group2}" *ngIf="columnGroupVisibility.group2">Current Program</th>
                            <th [ngClass]="{'collapsed': !columnGroupVisibility.group2}" *ngIf="columnGroupVisibility.group2">Parent Program</th>
                            <!--<th [ngClass]="{'collapsed': !columnGroupVisibility.group2}" *ngIf="columnGroupVisibility.group2">Utilization</th>-->
                            <!--<th [ngClass]="{'collapsed': !columnGroupVisibility.group2}" *ngIf="columnGroupVisibility.group2">SupplierName</th>-->
                            <th [ngClass]="{'collapsed': !columnGroupVisibility.group2}" *ngIf="columnGroupVisibility.group2">Bom Qty</th>
                            
                       
                    <!--<th>Part.Id</th>
                    <th>Material</th>
                    <th>Weight</th>
                    <th>Price</th>
                    <th>Mfg.Location</th>
                    <th>Parent</th>
                    <th>Parent.Part.Id</th>
                    <th>Bom.Qty</th>
                    <th>Cost.Region</th>-->
                    <th [ngClass]="{'collapsed': !columnGroupVisibility.group3}" *ngIf="columnGroupVisibility.group3" style="background-color: rgb(142, 142, 245); color: black;">Name</th>
                    <th style="background-color: rgb(142, 142, 245); color: black;">ModelMart Id</th>
                    <th style="background-color: rgb(142, 142, 245); color: black;">Representative Part Number</th>
                    <th style="background-color: rgb(142, 142, 245); color: black;">Representative Part Name</th>
                    <th [ngClass]="{'collapsed': !columnGroupVisibility.group3}" *ngIf="columnGroupVisibility.group3" style="background-color: rgb(142, 142, 245); color: black;">Representative Program</th>
                    <th [ngClass]="{'collapsed': !columnGroupVisibility.group3}" *ngIf="columnGroupVisibility.group3" style="background-color: rgb(142, 142, 245); color: black;">Representative Region</th>
                    <th [ngClass]="{'collapsed': !columnGroupVisibility.group3}" *ngIf="columnGroupVisibility.group3" style="background-color: rgb(142, 142, 245); color: black;">Representative SC</th>
                    <th [ngClass]="{'collapsed': !columnGroupVisibility.group3}" *ngIf="columnGroupVisibility.group3" style="background-color: rgb(142, 142, 245); color: black;">Representative Simulated Cost</th>
                    <th [ngClass]="{'collapsed': !columnGroupVisibility.group3}" *ngIf="columnGroupVisibility.group3" style="background-color: rgb(142, 142, 245); color: black;">Final.Cost</th>
                    <th [ngClass]="{'collapsed': !columnGroupVisibility.group3}" *ngIf="columnGroupVisibility.group3" style="background-color: rgb(142, 142, 245); color: black;">Gbpa Cost</th>
                    <th [ngClass]="{'collapsed': !columnGroupVisibility.group4}" *ngIf="columnGroupVisibility.group4" style="background-color: rgb(142, 142, 245); color: black;">Representative Invoice</th>
                    <th [ngClass]="{'collapsed': !columnGroupVisibility.group4}" *ngIf="columnGroupVisibility.group4" style="background-color: rgb(142, 142, 245); color: black;">Model.Type</th>
                    <th [ngClass]="{'collapsed': !columnGroupVisibility.group4}" *ngIf="columnGroupVisibility.group4" style="background-color: rgb(142, 142, 245); color: black;">Match.Type</th>
                    <th [ngClass]="{'collapsed': !columnGroupVisibility.group4}" *ngIf="columnGroupVisibility.group4" style="background-color: rgb(142, 142, 245); color: black;">Dimensions</th>
                    <th style="background-color: rgb(142, 142, 245); color: black;">Weight</th>
                    <th style="background-color: rgb(142, 142, 245); color: black;" >Raw Material</th>
                    <th [ngClass]="{'collapsed': !columnGroupVisibility.group4}" *ngIf="columnGroupVisibility.group4" style="background-color: rgb(142, 142, 245); color: black;">Engine Displace </th>
                    <th [ngClass]="{'collapsed': !columnGroupVisibility.group4}" *ngIf="columnGroupVisibility.group4" style="background-color: rgb(142, 142, 245); color: black;">Mfg Process </th>
                    <th [ngClass]="{'collapsed': !columnGroupVisibility.group4}" *ngIf="columnGroupVisibility.group4" style="background-color: rgb(142, 142, 245); color: black;">Utilization</th>
                    <th [ngClass]="{'collapsed': !columnGroupVisibility.group4}" *ngIf="columnGroupVisibility.group4" style="background-color: rgb(142, 142, 245); color: black;">Supplier Name</th>
                    <th [ngClass]="{'collapsed': !columnGroupVisibility.group4}" *ngIf="columnGroupVisibility.group4" style="background-color: rgb(142, 142, 245); color: black;">Cost Type</th>
                    <th [ngClass]="{'collapsed': !columnGroupVisibility.group4}" *ngIf="columnGroupVisibility.group4" style="background-color: rgb(142, 142, 245); color: black;">Debrief Date</th>
                    <th colspan="4" style="background-color: rgb(46, 46, 74);">Action</th>
                </tr>
                
            </thead>
            <tbody #tableRows><!--paginate: { itemsPerPage: 20, currentPage: page }  let i=index-->
                <tr *ngFor="let row of SearchProductList | search: textsearch:filterMetadata ">
                   <!--<tr>--> 
                    <td hidden>{{row.cartId}}</td>
                    <td hidden>{{row.bomId}}</td>
                    
                                               <td>
                                <span *ngIf="!row.editable">{{ row.excelpartno }}</span>
                                <input *ngIf="row.editable" [(ngModel)]="row.excelpartno" value="{{row.excelpartno}}" class="editable-input" />
                              </td>
                              <td><span *ngIf="!row.editable">{{ row.excelname }}</span>
                                <input *ngIf="row.editable" [(ngModel)]="row.excelname" value="{{row.excelname}}" class="editable-input" />
                              </td>
                              <td><span *ngIf="!row.editable">{{ row.excelenginedisplacement }}</span>
                                <input *ngIf="row.editable" [(ngModel)]="row.excelenginedisplacement" value="{{row.excelenginedisplacement}}" class="editable-input" />
                              </td>
                              <!--<td>
                                <span *ngIf="!row.editable">{{ row.excelname }}</span>
                                <input *ngIf="row.editable" [(ngModel)]="row.excelname"  value="{{row.excelname}}"/>
                              </td>-->
                              <td [ngClass]="{'collapsed': !columnGroupVisibility.group2}" *ngIf="columnGroupVisibility.group2">
                                <span *ngIf="!row.editable">{{ row.excelmeterial }}</span>
                                <input *ngIf="row.editable" [(ngModel)]="row.excelmeterial" value="{{row.excelmeterial}}" class="editable-input"/>
                              </td>
                              <td [ngClass]="{'collapsed': !columnGroupVisibility.group2}" *ngIf="columnGroupVisibility.group2">
                                <span *ngIf="!row.editable">{{ row.excelweight }}</span>
                                <input *ngIf="row.editable" [(ngModel)]="row.excelweight" value="{{row.excelweight}}" class="editable-input"/>
                              </td>
                              <!--<td [ngClass]="{'collapsed': !columnGroupVisibility.group2}" *ngIf="columnGroupVisibility.group2">
                                <span *ngIf="!row.editable">{{ row.excelprice }}</span>
                                <input *ngIf="row.editable" [(ngModel)]="row.excelprice" value="{{row.excelprice}}" class="editable-input"/>
                              </td>-->
                              <td [ngClass]="{'collapsed': !columnGroupVisibility.group2}" *ngIf="columnGroupVisibility.group2">
                                <span *ngIf="!row.editable">{{ row.excelcostregion }}</span>
                                <input *ngIf="row.editable" [(ngModel)]="row.excelcostregion" value="{{row.excelcostregion}}" class="editable-input" />
                              </td>
                             <!-- <td [ngClass]="{'collapsed': !columnGroupVisibility.group2}" *ngIf="columnGroupVisibility.group2">
                                <span *ngIf="!row.editable">{{ row.excelparent }}</span>
                                <input *ngIf="row.editable" [(ngModel)]="row.excelparent" value="{{row.excelparent}}" class="editable-input"/>
                              </td>-->
                              <td [ngClass]="{'collapsed': !columnGroupVisibility.group2}" *ngIf="columnGroupVisibility.group2">
                                <span *ngIf="!row.editable">{{ row.excelparentpartid }}</span>
                                <input *ngIf="row.editable" [(ngModel)]="row.excelparentpartid" value="{{row.excelparentpartid}}" class="editable-input" />
                              </td>
                              <td [ngClass]="{'collapsed': !columnGroupVisibility.group2}" *ngIf="columnGroupVisibility.group2">
                                <span *ngIf="!row.editable">{{ row.excelcosttype }}</span>
                                <input *ngIf="row.editable" [(ngModel)]="row.excelcosttype" value="{{row.excelcosttype}}" class="editable-input"/>
                              </td>
                              <td [ngClass]="{'collapsed': !columnGroupVisibility.group2}" *ngIf="columnGroupVisibility.group2">
                                <span *ngIf="!row.editable">{{ row.excelcurrentprogram}}</span>
                                <input *ngIf="row.editable" [(ngModel)]="row.excelcurrentprogram" value="{{row.excelcurrentprogram}}" class="editable-input" />
                              </td>
                              <td [ngClass]="{'collapsed': !columnGroupVisibility.group2}" *ngIf="columnGroupVisibility.group2">
                                <span *ngIf="!row.editable">{{ row.excelparentprogram}}</span>
                                <input *ngIf="row.editable" [(ngModel)]="row.excelparentprogram" value="{{row.excelparentprogram}}" class="editable-input" />
                              </td>
                            <!--  <td [ngClass]="{'collapsed': !columnGroupVisibility.group2}" *ngIf="columnGroupVisibility.group2">
                                <span *ngIf="!row.editable">{{ row.excelutilization}}</span>
                                <input *ngIf="row.editable" [(ngModel)]="row.excelutilization" value="{{row.excelutilization}}" class="editable-input"/>
                              </td>-->
                             <!-- <td [ngClass]="{'collapsed': !columnGroupVisibility.group2}" *ngIf="columnGroupVisibility.group2">
                                <span *ngIf="!row.editable">{{ row.excelsuppliername}}</span>
                                <input *ngIf="row.editable" [(ngModel)]="row.excelsuppliername" value="{{row.excelsuppliername}}" class="editable-input"/>
                              </td>-->

                              <td [ngClass]="{'collapsed': !columnGroupVisibility.group2}" *ngIf="columnGroupVisibility.group2">
                                <span *ngIf="!row.editable">{{ row.excelitemcount }}</span>
                                <input *ngIf="row.editable" [(ngModel)]="row.excelitemcount" value="{{row.excelitemcount}}" class="editable-input" />
                              </td>
                              
                        <!--<td>{{data.excelname}}</td> -->   
                        <!--<td>{{data.excelpartno}}</td>
                        <td>{{data.excelmeterial}}</td>
                        <td >{{data.excelweight}}</td>
                        <td >{{data.excelprice}}</td>
                        <td >{{data.excelcostregion}}</td>
                        <td >{{data.excelparent}}</td>
                        <td>{{data.excelparentpartid}}</td>
                        <td>{{data.excelitemcount}}</td>
                        <td>{{data.excelcostregion}}</td>-->
                        
                    <td [ngClass]="{'collapsed': !columnGroupVisibility.group3}" *ngIf="columnGroupVisibility.group3">{{row.name}}</td>
                    <td>{{row.categoryId}}</td>
                    <td>{{row.partNumber}}</td>
                    <td>{{row.partName}}</td>
                    <td [ngClass]="{'collapsed': !columnGroupVisibility.group3}" *ngIf="columnGroupVisibility.group3">{{row.projectName}}</td>
                    <td [ngClass]="{'collapsed': !columnGroupVisibility.group3}" *ngIf="columnGroupVisibility.group3">{{row.mfgRegion}}</td>
                    <td [ngClass]="{'collapsed': !columnGroupVisibility.group3}" *ngIf="columnGroupVisibility.group3">{{row.scost}}</td>
                    <td [ngClass]="{'collapsed': !columnGroupVisibility.group3}" *ngIf="columnGroupVisibility.group3">{{row.ucost}}</td>
                    <td [ngClass]="{'collapsed': !columnGroupVisibility.group3}" *ngIf="row.ucost <= 0 && columnGroupVisibility.group3">
                    <span *ngIf="!row.editable">{{row.scost}}</span>
                    <input *ngIf="row.editable" [(ngModel)]="row.scost" value="{{row.scost}}" />
                    </td>
                    <td [ngClass]="{'collapsed': !columnGroupVisibility.group3}" *ngIf="row.ucost > 0 && columnGroupVisibility.group3">{{row.ucost}}</td>
                    <!--<td *ngIf="data.ucost === 0 && data.scost===0">0</td>-->
                    <td [ngClass]="{'collapsed': !columnGroupVisibility.group3}" *ngIf="columnGroupVisibility.group3">00</td>
                    <td [ngClass]="{'collapsed': !columnGroupVisibility.group4}" *ngIf="columnGroupVisibility.group4">{{row.invoice}}</td>
                    <td [ngClass]="{'collapsed': !columnGroupVisibility.group4}" *ngIf="row.ucost <= 0 && columnGroupVisibility.group4">Original</td>
                    <td [ngClass]="{'collapsed': !columnGroupVisibility.group4}" *ngIf="row.ucost > 0 && columnGroupVisibility.group4">Simulated</td>
                   <!-- <td *ngIf="data.ucost === 0 && data.scost===0">Original</td>-->
                    <td [ngClass]="{'collapsed': !columnGroupVisibility.group4}" *ngIf="columnGroupVisibility.group4">{{row.partNumber}}/{{row.name}}-{{row.engineDisplacement}}</td>
                    <td [ngClass]="{'collapsed': !columnGroupVisibility.group4}" *ngIf="columnGroupVisibility.group4">{{row.height| number:'1.0-0'}} X {{row.length| number:'1.0-0'}} X {{row.width| number:'1.0-0'}}</td>
                    <td>{{row.weight}}</td>
                    <td style="width: 10px;">{{row.rowmaterial}}</td>
                    <td [ngClass]="{'collapsed': !columnGroupVisibility.group4}" *ngIf="columnGroupVisibility.group4">{{row.engineDisplacement}}</td>
                    <td [ngClass]="{'collapsed': !columnGroupVisibility.group4}" *ngIf="columnGroupVisibility.group4">{{row.mfgProcess}}</td>
                    <td [ngClass]="{'collapsed': !columnGroupVisibility.group4}" *ngIf="columnGroupVisibility.group4">{{row.utilization}}</td>
                    <td [ngClass]="{'collapsed': !columnGroupVisibility.group4}" *ngIf="columnGroupVisibility.group4">{{row.supplierName}}</td>
                    <td [ngClass]="{'collapsed': !columnGroupVisibility.group4}" *ngIf="columnGroupVisibility.group4">{{row.costType}}</td>
                    <td [ngClass]="{'collapsed': !columnGroupVisibility.group4}" *ngIf="columnGroupVisibility.group4">{{row.dbdate}}</td>
                    
                   <!-- <td class="action-buttons" *ngIf="row.excelpartno!=''">-->
                    <td>
                        <button *ngIf="!row.editable" (click)="editRow(row)">Edit</button>
                        <button *ngIf="row.editable && !row.isNew" (click)="saveRow(row)">Re-Run</button>
                        <button *ngIf="row.isNew" (click)="saveNewRow(row)">Re-Run</button>
                        <button *ngIf="row.editable" (click)="cancelEdit(row)">Cancel</button>
                        <button  (click)="Override(row)">override</button>
                        <button (click)="deleteRow(row.bomId)" *ngIf="!row.isNew">Delete</button>
                        <button *ngIf="row.isNew" (click)="cancelRow(row)">Delete</button>
                    </td>

                    <!--<td><i class="bi bi-trash-fill" style="color: #da291c; font-size:larger;" (click)="deleteRow(data.BUId)"></i>
                        <i class="bi bi-pencil-fill" style="padding-left: 20px; color: #da291c; font-size:larger;"
                            (click)="editModalMethod(data)"></i>
                    </td>-->
                </tr>
            </tbody>
            
        </table>

    </div>
    <div class="row">
    <div class="col-md-4" #target>
        
        <button class="btn btn-sm default-btn" (click)="SaveRow()">Save Row</button>
    </div>
    <div class="col-md-8">
        
    </div>
</div>
    <!--<div class="d-flex justify-content-between p-2 pagination">
                         
        <ngb-pagination [collectionSize]="filterMetadata.count" [(page)]="page" [pageSize]="pageSize"
            [rotate]="true" [boundaryLinks]="true" [maxSize]="5" size="sm" >
            <ng-template ngbPaginationPrevious>Prev</ng-template>
            <ng-template ngbPaginationNext>Next</ng-template>
        </ngb-pagination>
        <br>
    </div>-->


</div>
<!--Start cratdetails-->
<div class="table-responsive">
    <div class="modal "  tabindex="-1" role="dialog" [ngStyle]="{'display':display}">
        <div class="modal-dialog  modal-dialog-centered" role="document">
            <div class="modal-content" *ngIf="cartcreate">
                <div class="modal-header">
                    <h4 class="modal-title">{{header}}</h4>
                    <label class="close modal-close-icn" (click)="onCloseHandled()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="#000" class="bi bi-x"
                            viewBox="0 0 16 16">
                            <path
                                d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
                        </svg>
                    </label>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group">
                              
                               
                                
    
                                
                                        <label for="cartName"  class="default-lbl" style="font-size: 16px;">Cart Name</label>
                                        <input class="form-control form-control-sm" type="text" name="cartName" id="cartName" 
                                            placeholder="Please enter Cart Name" [(ngModel)]='Cartcategory'>
                                            <!-- (keypress)="keyPressDecimal($event)" -->
                                        <div class="error-message" *ngIf="showError1" style="font-size: 10px;color: red;">
                                            Please enter CartName.
                                        </div>
                                        <div class="error-message" *ngIf="showError2" style="font-size: 10px;color: red;">
                                            CartName allready exist please use different Cart Name.
                                        </div>
                                    
    
    
                                <!-- (keypress)="keyPressDecimal($event)" -->
                            
                        </div>
    
                        <!-- <div class="form-group">
                        <label for="exampleInput" class="default-lbl">Status</label>
                        <select class="form-select form-select-sm " (change)="onSelected($event)"
                            value="{{statusValue}}"name="status">
                            <option value="" selected hidden>Please select</option>
                            <option>Active</option>
                            <option>Inactive</option>
                        </select>
                        <div class="error-message" *ngIf="showError2">
                            Please select status.</div>
                    </div> -->
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-sm btn-secondary" data-bs-dismis="modal"
                        (click)="onCloseHandled()">Close</button>
                    <button type="button" class="btn btn-sm  btn-default default-btn_popup"
                        (click)="onSaveButton()">{{txt_btn}}</button>
                </div>
            </div>


<!--model for upload excel-->
            <div class="modal-content" *ngIf="excelU">
                <div class="modal-header">
                    <h4 class="modal-title">Upload Excel File</h4>
                    <button type="button" class="close" (click)="onCloseHandled()">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div style="display: flex; align-items: center;">
                        <div style="flex: 1;">
                            <input type="file" id='fileInput' (change)="onFileSelected($event)" accept=".xlsx">
                            <div class="error-message" *ngIf="showError7"> Please select file to upload</div>
                        </div>
                        
                    </div>
                    <!-- <input type="date" #fromDateCalendar [(ngModel)]="uploadfromdate" dateFormat="dd-mm-yy"> -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-sm btn-secondary" (click)="onCloseHandled()">Close</button>
                    <button type="button" class="btn btn-sm  btn-default default-btn_popup" (click)="uploadExcel()">Upload</button>
                </div>
            </div>
<!--Model for override--> 
<div  class="modal-content modalwidth" style="font-size: 10px !important;" *ngIf="override">
    <div class="modal-header">
        <h4 class="modal-title">Suggested Bom</h4>
        <button type="button" class="close" (click)="onCloseHandled()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body table-responsive">
    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                
                <th>Name</th>
                    <th>ModelMart Id</th>
                    <th>Representative Part Number</th>
                    <th>Representative Program</th>
                    <th>Representative Region</th>
                    <th>Representative SC</th>
                    <th>Representative Simulated Cost</th>
                    <th>Final.Cost</th>
                    <th>Gbpa Cost</th>
                    <th>Representative Invoice</th>
                    <th>Model.Type</th>
                    <th>Match.Type</th>
                    <th>Dimensions</th>
                    <th>Weight</th>
                    <th>Raw Material</th>
                    <th>Engine Displacement</th>
                    <th>Mfg Process </th>
                    <th>Utilization</th>
                    <th>Supplier Name</th>
                    <th>Cost Type</th>
                    <th>Debrief Date</th>
                
                <th colspan="4">Action</th>
            </tr>
            
        </thead>
        <tbody>
            <tr *ngFor="let row of OverrideProductList | search: textsearch:filterMetadata | paginate: { itemsPerPage: 20, currentPage: page }  let i=index">
               <!--<tr>--> 
                <td>{{row.name}}</td>
                <td>{{row.categoryId}}</td>
                <td>{{row.partNumber}}</td>
                <td>{{row.projectName}}</td>
                <td>{{row.mfgRegion}}</td>
                <td>{{row.scost}}</td>
                <td>{{row.ucost}}</td>
                <td *ngIf="row.ucost <= 0">
                <span *ngIf="!row.editable">{{row.scost}}</span>
                <input *ngIf="row.editable" [(ngModel)]="row.scost" value="{{row.scost}}" />
                </td>
                <td *ngIf="row.ucost > 0">{{row.ucost}}</td>
                <!--<td *ngIf="data.ucost === 0 && data.scost===0">0</td>-->
                <td>00</td>
                <td>{{row.invoice}}</td>
                <td *ngIf="row.ucost <= 0">Original</td>
                <td *ngIf="row.ucost > 0">Simulated</td>
               <!-- <td *ngIf="data.ucost === 0 && data.scost===0">Original</td>-->
                <td>{{row.partNumber}}/{{row.name}}-{{row.engineDisplacement}}</td>
                <td>{{row.height}} X {{row.length}} X {{row.width}}</td>
                <td>{{row.weight}}</td>
                <td>{{row.rowmaterial}}</td>
                <td>{{row.excelenginedisplacement}}L</td>
                <td>{{row.mfgProcess}}</td>
                <td>{{row.utilization}}</td>
                <td>{{row.supplierName}}</td>
                <td>{{row.costType}}</td>
                <td>{{row.dbdate}}</td>

              
                <td class="action-buttonsmodel">
                    <button (click)="Replace(row)">Replace</button>
                </td>
                
            </tr>
        </tbody>
    </table>
</div>
<div class="modal-footer">
    <button type="button" class="btn btn-sm btn-secondary" (click)="onCloseHandled()">Close</button>
    </div>
</div>

        </div>

        

        
    </div>
</div>
</div>









